variables:
  # Docker Images
  DOCKER_REGISTRY: "registry.gitlab.com/freedesktop-sdk/infrastructure/freedesktop-sdk-docker-images"
  DOCKER_IMAGE_ID: "fe60c819e5627906377fada1e974e782c86a6b46"

  DOCKER_AMD64: "${DOCKER_REGISTRY}/bst16/amd64:${DOCKER_IMAGE_ID}"
  DOCKER_AARCH64: "${DOCKER_REGISTRY}/bst16/arm64:${DOCKER_IMAGE_ID}"
  DOCKER_PPC64LE: "${DOCKER_REGISTRY}/bst16/ppc64le:${DOCKER_IMAGE_ID}"

#
# Architecture specific settings
#

.x86_64:
  image: "${DOCKER_AMD64}"
  tags:
  - x86_64
  - gnome-build-meta
  variables:
    ARCH: x86_64

.i686:
  image: "${DOCKER_AMD64}"
  tags:
  - x86_64
  - gnome-build-meta
  variables:
    ARCH: i686

.aarch64:
  image: "${DOCKER_AARCH64}"
  tags:
  - aarch64
  - gnome-build-meta
  variables:
    ARCH: aarch64

.arm:
  image: "${DOCKER_AARCH64}"
  tags:
  - armhf
  - gnome-build-meta
  variables:
    ARCH: arm

.ppc64le:
  image: "${DOCKER_PPC64LE}"
  tags:
  - ppc64le
  - gnome-build-meta
  variables:
    ARCH: ppc64le
  allow_failure: true
