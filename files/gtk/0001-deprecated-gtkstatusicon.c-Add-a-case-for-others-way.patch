From d4ef1d792cd5fa7a2de52aecea9aa538e747e288 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Javier=20Jard=C3=B3n?= <jjardon@gnome.org>
Date: Sat, 23 Nov 2019 23:43:32 +0900
Subject: [PATCH] deprecated/gtkstatusicon.c: Fix compilation in wayland

Without this compilation in a wayland-only system fails
---
 gtk/deprecated/gtkstatusicon.c | 9 +--------
 1 file changed, 1 insertion(+), 8 deletions(-)

diff --git a/gtk/deprecated/gtkstatusicon.c b/gtk/deprecated/gtkstatusicon.c
index 0c9dae62e6..9e107d76a5 100644
--- a/gtk/deprecated/gtkstatusicon.c
+++ b/gtk/deprecated/gtkstatusicon.c
@@ -2273,17 +2273,10 @@ gtk_status_icon_is_embedded (GtkStatusIcon *status_icon)
 
 #ifdef GDK_WINDOWING_X11
   if (status_icon->priv->tray_icon &&
-      gtk_plug_get_embedded (GTK_PLUG (status_icon->priv->tray_icon)))
-    return TRUE;
-  else
+      !gtk_plug_get_embedded (GTK_PLUG (status_icon->priv->tray_icon)))
     return FALSE;
 #endif
-#ifdef GDK_WINDOWING_WIN32
   return TRUE;
-#endif
-#ifdef GDK_WINDOWING_QUARTZ
-  return TRUE;
-#endif
 }
 
 /**
-- 
2.23.0

