From fcc468f39991547fa6df16c825bc4311b76fabeb Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Javier=20Jard=C3=B3n?= <jjardon@gnome.org>
Date: Sun, 24 Nov 2019 03:43:25 +0900
Subject: [PATCH] Add X11 guards

---
 src/canberra-gtk-module.c | 2 ++
 src/canberra-gtk.c        | 2 ++
 2 files changed, 4 insertions(+)

diff --git a/src/canberra-gtk-module.c b/src/canberra-gtk-module.c
index c1532ab..96b41e4 100644
--- a/src/canberra-gtk-module.c
+++ b/src/canberra-gtk-module.c
@@ -25,8 +25,10 @@
 #endif
 
 #include <gtk/gtk.h>
+#ifdef GDK_WINDOWING_X11
 #include <gdk/gdkx.h>
 #include <X11/Xatom.h>
+#endif
 
 #include "canberra-gtk.h"
 
diff --git a/src/canberra-gtk.c b/src/canberra-gtk.c
index 08cb668..8ffd953 100644
--- a/src/canberra-gtk.c
+++ b/src/canberra-gtk.c
@@ -26,8 +26,10 @@
 
 #include <gtk/gtk.h>
 #include <gdk/gdk.h>
+#ifdef GDK_WINDOWING_X11
 #include <gdk/gdkx.h>
 #include <X11/Xatom.h>
+#endif
 
 #include "canberra.h"
 #include "canberra-gtk.h"
-- 
2.23.0

