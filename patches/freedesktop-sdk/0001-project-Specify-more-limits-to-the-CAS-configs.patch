From 00c8a79e41352b42ffdc82d5f0be76f955292015 Mon Sep 17 00:00:00 2001
From: Jordan Petridis <jpetridis@gnome.org>
Date: Mon, 18 Aug 2025 01:06:36 +0100
Subject: [PATCH] project: Specify more limits to the CAS configs

These are disabled by default due to backward compatibility
so we need to explicitly set some values for timeouts and
retry policies.

This also bumps the min-version to 2.5 which is when these
options were introduced.
---
 project.conf | 8 +++++++-
 1 file changed, 7 insertions(+), 1 deletion(-)

diff --git a/project.conf b/project.conf
index b16e84771..92a57dd2d 100644
--- a/project.conf
+++ b/project.conf
@@ -1,6 +1,6 @@
 name: freedesktop-sdk
 
-min-version: 2.3
+min-version: 2.5
 
 aliases:
   (@): include/_private/aliases.yml
@@ -156,11 +156,17 @@ artifacts:
 - url: https://cache.freedesktop-sdk.io:11001
   connection-config:
     keepalive-time: 60
+    retry-limit: 5
+    retry-delay: 500
+    request-timeout: 180
 
 source-caches:
 - url: https://cache.freedesktop-sdk.io:11001
   connection-config:
     keepalive-time: 60
+    retry-limit: 5
+    retry-delay: 500
+    request-timeout: 180
 
 sandbox:
   build-arch: '%{target_arch}'
-- 
2.50.1

