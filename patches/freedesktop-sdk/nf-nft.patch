commit b71aeb02ff67fbc16919292b553a8853c14caa47
Author: Valentin David <me@valentindavid.com>
Date:   Wed Sep 17 19:53:29 2025 +0200

    linux: Enable more netfilter options

diff --git a/files/linux/fdsdk-config.sh b/files/linux/fdsdk-config.sh
index a5cee6c90..01483b376 100644
--- a/files/linux/fdsdk-config.sh
+++ b/files/linux/fdsdk-config.sh
@@ -2093,6 +2093,8 @@ enable FRAMEBUFFER_CONSOLE
 
 # Network
 module BRIDGE
+module BRIDGE_NETFILTER
+enable BRIDGE_VLAN_FILTERING
 enable NETFILTER
 enable IP_NF_IPTABLES
 enable IP_NF_FILTER
@@ -2100,6 +2102,7 @@ enable IP_NF_TARGET_REJECT
 module IP_NF_TARGET_MASQUERADE
 enable IP_NF_MANGLE
 enable NF_CONNTRACK
+module NF_CONNTRACK_BRIDGE
 enable NF_NAT
 module IP_NF_NAT
 enable IP6_NF_IPTABLES
@@ -2115,11 +2118,176 @@ module VETH
 module BLK_DEV_NBD
 module 6LOWPAN
 module IPVLAN
+module VLAN_8021Q
 
 # Those two modules are required by multipass
 module NETFILTER_XT_MATCH_COMMENT
 module NETFILTER_XT_TARGET_CHECKSUM
 
+# Some more netfilter/nft
+module IP_NF_ARPFILTER
+module IP_NF_ARP_MANGLE
+module IP_NF_MATCH_AH
+module IP_NF_MATCH_ECN
+module IP_NF_MATCH_RPFILTER
+module IP_NF_MATCH_TTL
+module IP_NF_SECURITY
+module IP_NF_TARGET_ECN
+module IP_NF_TARGET_NETMAP
+module IP_NF_TARGET_REDIRECT
+module IP_NF_TARGET_SYNPROXY
+module IP_NF_TARGET_TTL
+module NF_NAT_SNMP_BASIC
+module NF_SOCKET_IPV4
+enable NF_TABLES_ARP
+enable NF_TABLES_IPV4
+module NF_TABLES_BRIDGE
+module NFT_DUP_IPV4
+module NFT_FIB_IPV4
+module NF_TPROXY_IPV4
+module NF_TPROXY_IPV4
+module IP6_NF_MATCH_AH
+module IP6_NF_MATCH_EUI64
+module IP6_NF_MATCH_FRAG
+module IP6_NF_MATCH_HL
+module IP6_NF_MATCH_MH
+module IP6_NF_MATCH_OPTS
+module IP6_NF_MATCH_RPFILTER
+module IP6_NF_MATCH_RT
+module IP6_NF_MATCH_SRH
+module IP6_NF_SECURITY
+module IP6_NF_TARGET_HL
+module IP6_NF_TARGET_MASQUERADE
+module IP6_NF_TARGET_NPT
+module IP6_NF_TARGET_SYNPROXY
+module NF_SOCKET_IPV6
+enable NF_TABLES_IPV6
+module NFT_DUP_IPV6
+module NFT_FIB_IPV6
+module NF_TPROXY_IPV6
+module IP_SET
+module IP_SET_BITMAP_IP
+module IP_SET_BITMAP_IPMAC
+module IP_SET_BITMAP_PORT
+module IP_SET_HASH_IP
+module IP_SET_HASH_IPMAC
+module IP_SET_HASH_IPMARK
+module IP_SET_HASH_IPPORT
+module IP_SET_HASH_IPPORTIP
+module IP_SET_HASH_IPPORTNET
+module IP_SET_HASH_MAC
+module IP_SET_HASH_NET
+module IP_SET_HASH_NETIFACE
+module IP_SET_HASH_NETNET
+module IP_SET_HASH_NETPORT
+module IP_SET_HASH_NETPORTNET
+module IP_SET_LIST_SET
+module IP_VS
+module NETFILTER_NETLINK_ACCT
+module NETFILTER_NETLINK_OSF
+module NETFILTER_NETLINK_QUEUE
+module NETFILTER_XT_MATCH_BPF
+module NETFILTER_XT_MATCH_CGROUP
+module NETFILTER_XT_MATCH_CLUSTER
+module NETFILTER_XT_MATCH_CONNBYTES
+module NETFILTER_XT_MATCH_CONNLABEL
+module NETFILTER_XT_MATCH_CONNLIMIT
+module NETFILTER_XT_MATCH_CONNMARK
+module NETFILTER_XT_MATCH_CPU
+module NETFILTER_XT_MATCH_DCCP
+module NETFILTER_XT_MATCH_DEVGROUP
+module NETFILTER_XT_MATCH_DSCP
+module NETFILTER_XT_MATCH_ECN
+module NETFILTER_XT_MATCH_ESP
+module NETFILTER_XT_MATCH_HASHLIMIT
+module NETFILTER_XT_MATCH_HELPER
+module NETFILTER_XT_MATCH_HL
+module NETFILTER_XT_MATCH_IPCOMP
+module NETFILTER_XT_MATCH_IPRANGE
+module NETFILTER_XT_MATCH_IPVS
+module NETFILTER_XT_MATCH_L2TP
+module NETFILTER_XT_MATCH_LENGTH
+module NETFILTER_XT_MATCH_LIMIT
+module NETFILTER_XT_MATCH_MAC
+module NETFILTER_XT_MATCH_MARK
+module NETFILTER_XT_MATCH_MULTIPORT
+module NETFILTER_XT_MATCH_NFACCT
+module NETFILTER_XT_MATCH_OSF
+module NETFILTER_XT_MATCH_OWNER
+module NETFILTER_XT_MATCH_PHYSDEV
+module NETFILTER_XT_MATCH_PKTTYPE
+module NETFILTER_XT_MATCH_QUOTA
+module NETFILTER_XT_MATCH_RATEEST
+module NETFILTER_XT_MATCH_REALM
+module NETFILTER_XT_MATCH_RECENT
+module NETFILTER_XT_MATCH_SCTP
+module NETFILTER_XT_MATCH_SOCKET
+module NETFILTER_XT_MATCH_STATISTIC
+module NETFILTER_XT_MATCH_STRING
+module NETFILTER_XT_MATCH_TCPMSS
+module NETFILTER_XT_MATCH_TIME
+module NETFILTER_XT_MATCH_U32
+module NETFILTER_XT_SET
+module NETFILTER_XT_TARGET_AUDIT
+module NETFILTER_XT_TARGET_CLASSIFY
+module NETFILTER_XT_TARGET_CONNMARK
+module NETFILTER_XT_TARGET_CT
+module NETFILTER_XT_TARGET_DSCP
+module NETFILTER_XT_TARGET_HMARK
+module NETFILTER_XT_TARGET_IDLETIMER
+module NETFILTER_XT_TARGET_LED
+module NETFILTER_XT_TARGET_MARK
+module NETFILTER_XT_TARGET_NETMAP
+module NETFILTER_XT_TARGET_NFQUEUE
+module NETFILTER_XT_TARGET_RATEEST
+module NETFILTER_XT_TARGET_REDIRECT
+module NETFILTER_XT_TARGET_TCPOPTSTRIP
+module NETFILTER_XT_TARGET_TEE
+module NETFILTER_XT_TARGET_TPROXY
+module NETFILTER_XT_TARGET_TRACE
+module NF_CONNTRACK_AMANDA
+enable NF_CONNTRACK_EVENTS
+module NF_CONNTRACK_H323
+enable NF_CONNTRACK_MARK
+module NF_CONNTRACK_NETBIOS_NS
+module NF_CONNTRACK_PPTP
+enable NF_CONNTRACK_PROCFS
+module NF_CONNTRACK_SANE
+module NF_CONNTRACK_SNMP
+module NF_CONNTRACK_TFTP
+enable NF_CONNTRACK_TIMEOUT
+enable NF_CONNTRACK_TIMESTAMP
+enable NF_CONNTRACK_ZONES
+module NF_CT_NETLINK_TIMEOUT
+module NF_DUP_NETDEV
+module NF_FLOW_TABLE
+module NF_FLOW_TABLE_INET
+module NF_TABLES
+enable NF_TABLES_INET
+enable NF_TABLES_NETDEV
+module NFT_COMPAT
+module NFT_CONNLIMIT
+module NFT_CT
+module NFT_DUP_NETDEV
+module NFT_FIB_INET
+module NFT_FIB_NETDEV
+module NFT_FLOW_OFFLOAD
+module NFT_FWD_NETDEV
+module NFT_HASH
+module NFT_LIMIT
+module NFT_LOG
+module NFT_MASQ
+module NFT_NAT
+module NFT_NUMGEN
+module NFT_QUEUE
+module NFT_QUOTA
+module NFT_REDIR
+module NFT_REJECT
+module NFT_SOCKET
+module NFT_SYNPROXY
+module NFT_TPROXY
+module NFT_TUNNEL
+
 # Security modules
 enable SECURITY_SELINUX
 enable SECURITY_APPARMOR
