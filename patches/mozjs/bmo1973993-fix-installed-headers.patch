From f585996d79745c11dd2e7f88f8d5c9c7b5020b68 Mon Sep 17 00:00:00 2001
From: Steve Fink <sfink@mozilla.com>
Date: Wed, 16 Jul 2025 22:15:06 -0700
Subject: [PATCH 1/2] Bug 1973993 - Install ProfilingCategoryList.h into both
 the js/directory and the toplevel include directory r=#spidermonkey-reviewers

---
 js/src/build/Makefile.in | 3 +++
 1 file changed, 3 insertions(+)

diff --git a/js/src/build/Makefile.in b/js/src/build/Makefile.in
index 99a2ffe3d4..50a98f1b17 100644
--- a/js/src/build/Makefile.in
+++ b/js/src/build/Makefile.in
@@ -31,8 +31,11 @@ install:: $(LIBRARY_NAME).pc
 install:: ../js-config.h
 	$(SYSINSTALL) $^ $(DESTDIR)$(includedir)/$(JS_LIBRARY_NAME)
 
+# Install the profiling category list into both js/ and the root include
+# directory, for use with both js-specific and base profilers.
 install:: ../../../mozglue/baseprofiler/public/ProfilingCategoryList.h
 	$(SYSINSTALL) $^ $(DESTDIR)$(includedir)/$(JS_LIBRARY_NAME)/js
+	$(SYSINSTALL) $^ $(DESTDIR)$(includedir)/$(JS_LIBRARY_NAME)
 
 ######################################################
 # BEGIN SpiderMonkey header installation
-- 
2.50.0

